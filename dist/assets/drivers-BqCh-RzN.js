var g=Object.defineProperty;var k=(r,e,o)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var D=(r,e,o)=>k(r,typeof e!="symbol"?e+"":e,o);import{V as w,_ as B}from"./VDataTable-CCJl_ig7.js";import{Z as x,_ as T,r as u,e as A,L,M as $,C as P,f as S,i as E,w as a,j as _,d as i,l as d,O as C,P as b,V as G,N as I}from"./index-DOiLiAGW.js";import{V as N}from"./VTextField-DeKW-4cg.js";import"./VOverlay-A_z2X8Te.js";import"./forwardRefs-cf9lWiri.js";import"./transition-PVbPGmxI.js";import"./VImg-CgLEQQ14.js";const h=x("Drivers",()=>{const{POST:r,GET:e,DELETE:o}=T(),n=u([]),l=u();async function V(){const t=await e("/drivers");return n.value=t.data,t}async function c(t){return await r("/drivers",t,{success:"Done",error:!0})}async function v(t){const s=await e(`/drivers/${t}`);return l.value=s.data,s}async function m(t){return await o(`/drivers/${t}`,void 0)}async function p(t,s){return await r(`/drivers/${t}`,s,{success:"Done",error:!0})}return{GetAllDrivers:V,AddDriver:c,GetDriverById:v,DeleteDriver:m,UpdateDriver:p,driversDetails:l,driversList:n}});class j{constructor(){D(this,"_id");D(this,"name")}}const M={class:"d-flex gap-1 justify-center"},K=A({__name:"drivers",setup(r){const e=h(),{driversList:o}=L(e),n=u(new j),l=$();(()=>{I().SetPageMeta({breadCrumb:[],icon:"tabler-discount-2",title:"السائقين"}),e.GetAllDrivers()})();const c=u(null),v=()=>{var t;(t=c.value)==null||t.closeDialog()},m=[{title:"name",value:"name"},{title:"Details",value:"actions",align:"center"}],p=()=>{e.AddDriver(n.value)};return(t,s)=>{const y=P("IconBtn");return S(),E(B,{ref_key:"Pagey",ref:c,icon:"tabler-user","button-text":"إضافة سائق","dialog-title":"سائق جديد"},{"dialog-form":a(()=>[_("div",null,[i(N,{modelValue:d(n).name,"onUpdate:modelValue":s[0]||(s[0]=f=>d(n).name=f),label:"school"},null,8,["modelValue"])]),_("div",null,[i(b,{onClick:p},{default:a(()=>s[1]||(s[1]=[C("Done")])),_:1}),i(b,{onClick:v,variant:"outlined"},{default:a(()=>s[2]||(s[2]=[C("Back")])),_:1})])]),default:a(()=>[i(w,{headers:m,items:d(o)},{"item.actions":a(({item:f})=>[_("div",M,[i(y,{onClick:O=>d(l).push(`drivers/${f._id}`)},{default:a(()=>[i(G,{icon:"ri-home-smile-line"})]),_:2},1032,["onClick"])])]),_:1},8,["headers","items"])]),_:1},512)}}});export{K as default};
